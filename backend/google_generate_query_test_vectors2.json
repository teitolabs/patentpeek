[
    {
        "description": "TC61: Full document search with TAC field (Title/Abstract/Claims)",
        "input": {"search_terms": ["TAC=(nanoparticle OR nanostructure)"]},
        "expected_display_query": "TAC=(nanoparticle OR nanostructure)",
        "expected_url": "https://patents.google.com/?q=TAC%3D%28nanoparticle+OR+nanostructure%29"
    },
    {
        "description": "TC62: Nested boolean logic in a single search term",
        "input": {"search_terms": ["((graphene AND sensor) OR (carbon nanotube AND detector)) NOT obsolete"]},
        "expected_display_query": "(((graphene AND sensor) OR (carbon nanotube AND detector)) NOT obsolete)",
        "expected_url": "https://patents.google.com/?q=%28%28graphene+AND+sensor%29+OR+%28carbon+nanotube+AND+detector%29%29+NOT+obsolete"
    },
    {
        "description": "TC63: European Patent Office (EP) and German language",
        "input": {"search_terms": ["Windkraftanlage"], "patent_office": "EP", "language": "DE"},
        "expected_display_query": "(Windkraftanlage) country:EP language:DE",
        "expected_url": "https://patents.google.com/?q=Windkraftanlage&country=EP&language=DE"
    },
    {
        "description": "TC64: Japanese Patent Office (JP) and specific inventor",
        "input": {"search_terms": ["ロボット"], "patent_office": "JP", "inventors": ["中村修二"]},
        "expected_display_query": "(ロボット) inventor:中村修二 country:JP",
        "expected_url": "https://patents.google.com/?q=%E3%83%AD%E3%83%9C%E3%83%83%E3%83%88&inventor=%E4%B8%AD%E6%9D%91%E4%BF%AE%E4%BA%8C&country=JP"
    },
    {
        "description": "TC65: Only assignee and patent type 'DEFENSIVE_PUBLICATION'",
        "input": {"assignees": ["IBM Corp."], "patent_type": "DEFENSIVE_PUBLICATION"},
        "expected_display_query": "assignee:IBM Corp. type:DEFENSIVE_PUBLICATION",
        "expected_url": "https://patents.google.com/?assignee=IBM+Corp.&ptype=DEFENSIVE_PUBLICATION"
    },
    {
        "description": "TC66: Multiple CPCs, one with a dash",
        "input": {"search_terms": ["CPC=(H04W4/02) OR CPC=(G01S19/00) OR CPC=(H04L29/08-02)"]},
        "expected_display_query": "CPC=(H04W4/02) OR CPC=(G01S19/00) OR CPC=(H04L29/08-02)",
        "expected_url": "https://patents.google.com/?q=CPC%3D%28H04W4%2F02%29+OR+CPC%3D%28G01S19%2F00%29+OR+CPC%3D%28H04L29%2F08-02%29"
    },
    {
        "description": "TC67: Filing date 'after' and Publication date 'before'",
        "input": {
            "after_date": "2018-06-01", "after_date_type": "filing",
            "before_date": "2022-01-01", "before_date_type": "publication"
        },
        "expected_display_query": "after:filing:20180601 before:publication:20220101",
        "expected_url": "https://patents.google.com/?after=filing%3A20180601&before=publication%3A20220101"
    },
    {
        "description": "TC68: Search term containing 'inventor:' but not as a field (should be q-term)",
        "input": {"search_terms": ["analysis of inventor: productivity metrics"]},
        "expected_display_query": "(analysis of inventor: productivity metrics)",
        "expected_url": "https://patents.google.com/?q=analysis+of+inventor%3A+productivity+metrics"
    },
    {
        "description": "TC69: Very long assignee name",
        "input": {"assignees": ["The Massachusetts Institute of Technology and the Broad Institute, Inc."]},
        "expected_display_query": "assignee:The Massachusetts Institute of Technology and the Broad Institute, Inc.",
        "expected_url": "https://patents.google.com/?assignee=The+Massachusetts+Institute+of+Technology+and+the+Broad+Institute%2C+Inc."
    },
    {
        "description": "TC70: Patent type 'STATUTORY_INVENTION_REGISTRATION' (SIR)",
        "input": {"search_terms": ["H000123"], "patent_type": "STATUTORY_INVENTION_REGISTRATION"},
        "expected_display_query": "(H000123) type:STATUTORY_INVENTION_REGISTRATION",
        "expected_url": "https://patents.google.com/?q=H000123&ptype=STATUTORY_INVENTION_REGISTRATION"
    },
    {
        "description": "TC71: Mixed fielded search in one 'q' param: TI and AB",
        "input": {"search_terms": ["TI=(CRISPR Cas9) AND AB=(gene editing)"]},
        "expected_display_query": "TI=(CRISPR Cas9) AND AB=(gene editing)",
        "expected_url": "https://patents.google.com/?q=TI%3D%28CRISPR+Cas9%29+AND+AB%3D%28gene+editing%29"
    },
    {
        "description": "TC72: Date format YYYY-MMDD (invalid, should raise ValueError by generator)",
        "input": {"after_date": "2020-0101", "after_date_type": "priority"},
        "expected_error": "ValueError"
    },
    {
        "description": "TC73: Invalid date_type (should raise ValueError by generator)",
        "input": {"before_date": "20200101", "before_date_type": "published"},
        "expected_error": "ValueError"
    },
    {
        "description": "TC74: Search term with an asterisk (wildcard, treated as literal)",
        "input": {"search_terms": ["electro*"]},
        "expected_display_query": "(electro*)",
        "expected_url": "https://patents.google.com/?q=electro*"
    },
    {
        "description": "TC75: French patent office (FR) and French Language",
        "input": {"search_terms": ["véhicule autonome"], "patent_office": "FR", "language": "FR"},
        "expected_display_query": "(véhicule autonome) country:FR language:FR",
        "expected_url": "https://patents.google.com/?q=v%C3%A9hicule+autonome&country=FR&language=FR"
    },
    {
        "description": "TC76: Only litigation status 'NO'",
        "input": {"litigation": "NO"},
        "expected_display_query": "litigation:NO",
        "expected_url": "https://patents.google.com/?litigation=NO"
    },
    {
        "description": "TC77: Inventor name with a single quote",
        "input": {"inventors": ["O'Malley, John"]},
        "expected_display_query": "inventor:O'Malley, John",
        "expected_url": "https://patents.google.com/?inventor=O%27Malley%2C+John"
    },
    {
        "description": "TC78: Search term that is an empty string (should be ignored)",
        "input": {"search_terms": ["", "valid term", "   "]},
        "expected_display_query": "(valid term)",
        "expected_url": "https://patents.google.com/?q=valid+term"
    },
    {
        "description": "TC79: Publication number for a GB patent",
        "input": {"search_terms": ["GB2500000A"]},
        "expected_display_query": "(GB2500000A)",
        "expected_url": "https://patents.google.com/?q=GB2500000A"
    },
    {
        "description": "TC80: Application number for an EP patent",
        "input": {"search_terms": ["EP08123456.7"]},
        "expected_display_query": "(EP08123456.7)",
        "expected_url": "https://patents.google.com/?q=EP08123456.7"
    },
    {
        "description": "TC81: Title, Abstract, and Claims all targeted in one q param",
        "input": {"search_terms": ["(TI=(network) OR AB=(communication) OR CL=(protocol))"]},
        "expected_display_query": "(TI=(network) OR AB=(communication) OR CL=(protocol))",
        "expected_url": "https://patents.google.com/?q=%28TI%3D%28network%29+OR+AB%3D%28communication%29+OR+CL%3D%28protocol%29%29"
    },
    {
        "description": "TC82: Search term with ':' not at the beginning (not a field specifier)",
        "input": {"search_terms": ["ratio:1:1"]},
        "expected_display_query": "(ratio:1:1)",
        "expected_url": "https://patents.google.com/?q=ratio%3A1%3A1"
    },
    {
        "description": "TC83: All date fields used (priority, filing, publication)",
        "input": {
            "after_date": "20100101", "after_date_type": "priority",
            "search_terms": ["before:filing:20121231", "after:publication:20110615"]
        },
        "expected_display_query": "before:filing:20121231 after:publication:20110615 after:priority:20100101",
        "expected_url": "https://patents.google.com/?q=before%3Afiling%3A20121231&q=after%3Apublication%3A20110615&after=priority%3A20100101"
    },
    {
        "description": "TC84: Invalid litigation status (should raise ValueError)",
        "input": {"litigation": "MAYBE"},
        "expected_error": "ValueError"
    },
    {
        "description": "TC85: Long single search term without spaces (e.g. chemical formula)",
        "input": {"search_terms": ["C60H120O6N3P2S"]},
        "expected_display_query": "(C60H120O6N3P2S)",
        "expected_url": "https://patents.google.com/?q=C60H120O6N3P2S"
    },
    {
        "description": "TC86: DE patent office, no language specified",
        "input": {"search_terms": ["Brennstoffzelle"], "patent_office": "DE"},
        "expected_display_query": "(Brennstoffzelle) country:DE",
        "expected_url": "https://patents.google.com/?q=Brennstoffzelle&country=DE"
    },
    {
        "description": "TC87: Exact phrase in claims",
        "input": {"search_terms": ["CL=(\"a method comprising the steps of\")"]},
        "expected_display_query": "CL=(\"a method comprising the steps of\")",
        "expected_url": "https://patents.google.com/?q=CL%3D%28%22a+method+comprising+the+steps+of%22%29"
    },
    {
        "description": "TC88: Search term looking like a publication number with a version code",
        "input": {"search_terms": ["US20200123456A1"]},
        "expected_display_query": "(US20200123456A1)",
        "expected_url": "https://patents.google.com/?q=US20200123456A1"
    },
    {
        "description": "TC89: Status 'ABANDONED'",
        "input": {"search_terms": ["perpetual motion"], "status": "ABANDONED"},
        "expected_display_query": "(perpetual motion) status:ABANDONED",
        "expected_url": "https://patents.google.com/?q=perpetual+motion&status=ABANDONED"
    },
    {
        "description": "TC90: Complex query with multiple q-boxes and all other fields",
        "input": {
            "search_terms": ["TI=(encryption OR decryption)", "AB=(secure communication)", "CL=(key exchange)", "CPC=(H04L9/00)"],
            "inventors": ["Rivest, Ron", "Shamir, Adi", "Adleman, Len"],
            "assignees": ["MIT"],
            "after_date": "1970-01-01", "after_date_type": "filing",
            "before_date": "1980-12-31", "before_date_type": "publication",
            "patent_office": "US",
            "language": "EN",
            "status": "GRANT",
            "patent_type": "UTILITY",
            "litigation": "NO"
        },
        "expected_display_query": "TI=(encryption OR decryption) AB=(secure communication) CL=(key exchange) CPC=(H04L9/00) inventor:Rivest, Ron inventor:Shamir, Adi inventor:Adleman, Len assignee:MIT after:filing:19700101 before:publication:19801231 country:US language:EN status:GRANT type:UTILITY litigation:NO",
        "expected_url": "https://patents.google.com/?q=TI%3D%28encryption+OR+decryption%29&q=AB%3D%28secure+communication%29&q=CL%3D%28key+exchange%29&q=CPC%3D%28H04L9%2F00%29&inventor=Rivest%2C+Ron&inventor=Shamir%2C+Adi&inventor=Adleman%2C+Len&assignee=MIT&after=filing%3A19700101&before=publication%3A19801231&country=US&language=EN&status=GRANT&ptype=UTILITY&litigation=NO"
    },
    {
        "description": "TC91: Only Patent Office AU (Australia)",
        "input": {"patent_office": "AU"},
        "expected_display_query": "country:AU",
        "expected_url": "https://patents.google.com/?country=AU"
    },
    {
        "description": "TC92: Only Language ES (Spanish)",
        "input": {"language": "ES"},
        "expected_display_query": "language:ES",
        "expected_url": "https://patents.google.com/?language=ES"
    },
    {
        "description": "TC93: Search for WIPO PCT publication",
        "input": {"search_terms": ["WO1999012345A1"]},
        "expected_display_query": "(WO1999012345A1)",
        "expected_url": "https://patents.google.com/?q=WO1999012345A1"
    },
    {
        "description": "TC94: Search terms with mixed operators without explicit parentheses",
        "input": {"search_terms": ["solar AND panel OR photovoltaic cell NOT silicon"]},
        "expected_display_query": "(solar AND panel OR photovoltaic cell NOT silicon)",
        "expected_url": "https://patents.google.com/?q=solar+AND+panel+OR+photovoltaic+cell+NOT+silicon"
    },
    {
        "description": "TC95: CPC starting with Y (Climate Change Mitigation)",
        "input": {"search_terms": ["CPC=(Y02E10/50)"]},
        "expected_display_query": "CPC=(Y02E10/50)",
        "expected_url": "https://patents.google.com/?q=CPC%3D%28Y02E10%2F50%29"
    },
    {
        "description": "TC96: Assignee containing 'University'",
        "input": {"assignees": ["Stanford University"]},
        "expected_display_query": "assignee:Stanford University",
        "expected_url": "https://patents.google.com/?assignee=Stanford+University"
    },
    {
        "description": "TC97: Search term with '&' symbol",
        "input": {"search_terms": ["R&D project"]},
        "expected_display_query": "(R&D project)",
        "expected_url": "https://patents.google.com/?q=R%26D+project"
    },
    {
        "description": "TC98: Date with only year and month (invalid, should raise ValueError)",
        "input": {"after_date": "2021-05", "after_date_type": "filing"},
        "expected_error": "ValueError"
    },
    {
        "description": "TC99: Empty string for inventor (should be ignored)",
        "input": {"inventors": ["Valid Inventor", ""]},
        "expected_display_query": "inventor:Valid Inventor",
        "expected_url": "https://patents.google.com/?inventor=Valid+Inventor"
    },
    {
        "description": "TC100: Maximum length-like search term (conceptual, actual limits vary)",
        "input": {"search_terms": ["a_very_long_search_term_that_might_test_url_length_or_parsing_robustness_with_many_underscores_and_alphanumeric_characters_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]},
        "expected_display_query": "(a_very_long_search_term_that_might_test_url_length_or_parsing_robustness_with_many_underscores_and_alphanumeric_characters_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx)",
        "expected_url": "https://patents.google.com/?q=a_very_long_search_term_that_might_test_url_length_or_parsing_robustness_with_many_underscores_and_alphanumeric_characters_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    },
    {
        "description": "TC101: Korean characters in assignee name",
        "input": {"assignees": ["삼성전자"], "patent_office": "KR"},
        "expected_display_query": "assignee:삼성전자 country:KR",
        "expected_url": "https://patents.google.com/?assignee=%EC%82%BC%EC%84%B1%EC%A0%84%EC%9E%90&country=KR"
    },
    {
        "description": "TC102: Search terms list is None",
        "input": {"search_terms": null, "inventors": ["Pascal, Blaise"]},
        "expected_display_query": "inventor:Pascal, Blaise",
        "expected_url": "https://patents.google.com/?inventor=Pascal%2C+Blaise"
    },
    {
        "description": "TC103: TAC for an exact phrase",
        "input": {"search_terms": ["TAC=(\"machine learning model\")"]},
        "expected_display_query": "TAC=(\"machine learning model\")",
        "expected_url": "https://patents.google.com/?q=TAC%3D%28%22machine+learning+model%22%29"
    },
    {
        "description": "TC104: Date range for the same day (priority)",
        "input": {"after_date": "2022-07-15", "after_date_type": "priority", "before_date": "2022-07-15", "before_date_type": "priority"},
        "expected_display_query": "after:priority:20220715 before:priority:20220715",
        "expected_url": "https://patents.google.com/?after=priority%3A20220715&before=priority%3A20220715"
    },
    {
        "description": "TC105: Multiple different simple field specifiers",
        "input": {"language": "PT", "status": "APPLICATION", "patent_type": "UTILITY", "patent_office": "BR"},
        "expected_display_query": "country:BR language:PT status:APPLICATION type:UTILITY",
        "expected_url": "https://patents.google.com/?country=BR&language=PT&status=APPLICATION&ptype=UTILITY"
    },
    {
        "description": "TC106: Search term contains 'CPC=' but not at the start",
        "input": {"search_terms": ["related to CPC=H04L"]},
        "expected_display_query": "(related to CPC=H04L)",
        "expected_url": "https://patents.google.com/?q=related+to+CPC%3DH04L"
    },
    {
        "description": "TC107: Claims search using a proximity operator idea (Google uses AND for this)",
        "input": {"search_terms": ["CL=(first NEAR5 second)"]},
        "expected_display_query": "CL=(first NEAR5 second)",
        "expected_url": "https://patents.google.com/?q=CL%3D%28first+NEAR5+second%29"
    },
    {
        "description": "TC108: Search term is purely symbolic",
        "input": {"search_terms": ["!@#$%^"]},
        "expected_display_query": "(!@#$%^)",
        "expected_url": "https://patents.google.com/?q=%21%40%23%24%25%5E"
    },
    {
        "description": "TC109: Combination of q-term and date passed as q-term",
        "input": {"search_terms": ["widget", "after:priority:20200101"], "before_date": "20211231", "before_date_type": "priority"},
        "expected_display_query": "(widget) after:priority:20200101 before:priority:20211231",
        "expected_url": "https://patents.google.com/?q=widget&q=after%3Apriority%3A20200101&before=priority%3A20211231"
    },
    {
        "description": "TC110: All optional fields are None or empty lists",
        "input": {
            "search_terms": null, "inventors": [], "assignees": null,
            "after_date": null, "after_date_type": null,
            "before_date": null, "before_date_type": null,
            "patent_office": "", "language": "  ", "status": null,
            "patent_type": "", "litigation": null
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    }
]