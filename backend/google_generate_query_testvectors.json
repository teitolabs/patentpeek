[
    {
        "description": "TC1: Basic single search term (TEXT, FT, ALL)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "simple", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(simple)",
        "expected_url": "https://patents.google.com/?q=simple"
    },
    {
        "description": "TC2: Multiple structured conditions (TEXT/FT/ANY and TEXT/CPC_scope/ALL)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "quantum qubit", "selectedScopes": ["FT"], "termOperator": "ANY"}},
                {"id": "cond2", "type": "TEXT", "data": {"text": "G06N10/00", "selectedScopes": ["CPC"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(quantum OR qubit) CPC=(G06N10/00)",
        "expected_url": "https://patents.google.com/?q=%28quantum+OR+qubit%29&q=CPC%3D%28G06N10%2F00%29"
    },
{
        "description": "TC3: Inventor, assignee, and patent office (no structured conditions)",
        "input": {
            "structured_search_conditions": null,
            "inventors": ["Edison, Thomas A"],
            "assignees": ["General Electric Company"],
            "patent_office": "US"
        },
        "expected_display_query": "country:US inventor:Edison, Thomas A assignee:General Electric Company",
      
"expected_url": "https://patents.google.com/?country=US&inventor=Edison%2C+Thomas+A&assignee=General+Electric+Company"

        },
    {
        "description": "TC4: Full date range, YYYYMMDD input, TEXT/FT/ALL condition",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "solar panel", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ],
            "after_date": "20190101", "after_date_type": "priority",
            "before_date": "20211231", "before_date_type": "priority"
        },
        "expected_display_query": "(solar panel) after:priority:20190101 before:priority:20211231",
        "expected_url": "https://patents.google.com/?q=solar+panel&after=priority%3A20190101&before=priority%3A20211231"
    },
    {
        "description": "TC5: Language, status, patent_type, litigation 'YES', TEXT/FT/ALL condition",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "AI ethics", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ],
            "language": "JA", "status": "APPLICATION",
            "patent_type": "UTILITY", "litigation": "YES"
        },
        "expected_display_query": "(AI ethics) language:JA status:APPLICATION type:UTILITY litigation:YES",
        "expected_url": "https://patents.google.com/?q=AI+ethics&language=JA&status=APPLICATION&ptype=UTILITY&litigation=YES"
    },
    {
        "description": "TC6: Screenshot-like complex query with structured conditions",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "AAA BBB", "selectedScopes": ["FT"], "termOperator": "ANY"}},
                {"id": "cond2", "type": "TEXT", "data": {"text": "CCC", "selectedScopes": ["FT"], "termOperator": "ALL"}},
                {"id": "cond3", "type": "TEXT", "data": {"text": "H H04 H04W", "selectedScopes": ["CPC"], "termOperator": "ANY"}}
            ],
            "inventors": ["DDD"], "assignees": ["EEE"],
            "after_date": "2000-01-01", "after_date_type": "priority",
            "before_date": "2020-01-01", "before_date_type": "priority",
            "patent_office": "WO", "language": "ENGLISH", "status": "GRANT",
            "patent_type": "DESIGN", "litigation": "HAS_RELATED_LITIGATION"
        },
        "expected_display_query": "(AAA OR BBB) (CCC) (CPC=(H) OR CPC=(H04) OR CPC=(H04W)) country:WO language:ENGLISH inventor:DDD assignee:EEE after:priority:20000101 before:priority:20200101 status:GRANT type:DESIGN litigation:YES",
"expected_url": "https://patents.google.com/?q=%28AAA+OR+BBB%29&q=CCC&q=%28CPC%3D%28H%29+OR+CPC%3D%28H04%29+OR+CPC%3D%28H04W%29%29&country=WO&language=ENGLISH&inventor=DDD&assignee=EEE&after=priority%3A20000101&before=priority%3A20200101&status=GRANT&ptype=DESIGN&litigation=YES"    },
    {
        "description": "TC7: Multiple inventors, one assignee, litigation 'NO_KNOWN_LITIGATION', TEXT/FT/ALL",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "drone system", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ],
            "inventors": ["Bezos, Jeff", "Wilke, Jeff"],
            "assignees": ["Amazon Technologies, Inc."],
            "litigation": "NO_KNOWN_LITIGATION"
        },
        "expected_display_query": "(drone system) inventor:Bezos, Jeff inventor:Wilke, Jeff assignee:Amazon Technologies, Inc. litigation:NO",
        "expected_url": "https://patents.google.com/?q=drone+system&inventor=Bezos%2C+Jeff&inventor=Wilke%2C+Jeff&assignee=Amazon+Technologies%2C+Inc.&litigation=NO"
    },
    {
        "description": "TC8: Different date types, TEXT/FT/ALL",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "advanced battery", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ],
            "after_date": "2022-03-15", "after_date_type": "filing",
            "before_date": "2023-06-30", "before_date_type": "publication"
        },
        "expected_display_query": "(advanced battery) after:filing:20220315 before:publication:20230630",
        "expected_url": "https://patents.google.com/?q=advanced+battery&after=filing%3A20220315&before=publication%3A20230630"
    },
    {
        "description": "TC9: Only patent office and language, no structured conditions",
        "input": {"structured_search_conditions": null, "patent_office": "EP", "language": "DE"},
        "expected_display_query": "country:EP language:DE",
        "expected_url": "https://patents.google.com/?country=EP&language=DE"
    },
    {
        "description": "TC10: Empty input (all params None/empty list/null)",
        "input": {"structured_search_conditions": [], "inventors": null},
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC11: TEXT condition with TI scope, ALL operator",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "smart bulb", "selectedScopes": ["TI"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "TI=(smart bulb)",
        "expected_url": "https://patents.google.com/?q=TI%3D%28smart+bulb%29"
    },
{
    "description": "TC12: TEXT condition with multiple scopes (TI, AB), EXACT operator",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "wearable sensor", "selectedScopes": ["TI", "AB"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "(TI=\"wearable sensor\" OR AB=\"wearable sensor\")",
    "expected_url": "https://patents.google.com/?q=%28TI%3D%22wearable+sensor%22+OR+AB%3D%22wearable+sensor%22%29"
},
    {
        "description": "TC13: CLASSIFICATION tool type condition",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "CLASSIFICATION", "data": {"cpc": "H01L/2100", "option": "EXACT"}}
            ]
        },
        "expected_display_query": "cpc:H01L2100",
        "expected_url": "https://patents.google.com/?q=cpc%3AH01L2100"
    },
    {
        "description": "TC14: Dedicated CPC, Title, Document ID fields",
        "input": {
            "structured_search_conditions": null,
            "dedicated_cpc": "G06F3/048",
            "dedicated_title": "User Interface",
            "dedicated_document_id": "US9000000B2"
        },
        "expected_display_query": "cpc:G06F3048 title:(\"User Interface\") \"US9000000B2\"",
        "expected_url": "https://patents.google.com/?q=cpc%3AG06F3048&q=title%3A%28%22User+Interface%22%29&q=%22US9000000B2%22"
    },
    {
        "description": "TC15: Invalid date format - Expect ValueError",
        "input": {
            "structured_search_conditions": [{"id": "cond1", "type": "TEXT", "data": {"text": "test", "selectedScopes": ["FT"], "termOperator": "ALL"}}],
            "after_date": "2022/01/01", "after_date_type": "priority"
        },
        "expected_error": "ValueError" 
    },
    {
        "description": "TC16: Invalid after_date_type - Expect ValueError",
        "input": {
            "structured_search_conditions": [{"id": "cond1", "type": "TEXT", "data": {"text": "test", "selectedScopes": ["FT"], "termOperator": "ALL"}}],
            "after_date": "2022-01-01", "after_date_type": "invalid_type"
        },
        "expected_error": "ValueError"
    },
    {
        "description": "TC17: TEXT/FT/NONE operator",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "undesired artifact", "selectedScopes": ["FT"], "termOperator": "NONE"}}
            ]
        },
        "expected_display_query": "(-undesired -artifact)",
        "expected_url": "https://patents.google.com/?q=-undesired+-artifact"
    },
    {
        "description": "TC18: TEXT/CL/ALL operator",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "network protocol", "selectedScopes": ["CL"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "CL=(network protocol)",
        "expected_url": "https://patents.google.com/?q=CL%3D%28network+protocol%29"
    },
{
    "description": "TC19: TEXT/TAC (TI,AB,CL)/EXACT operator",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "precise medical imaging", "selectedScopes": ["TI", "AB", "CL"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "TAC=\"precise medical imaging\"",
    "expected_url": "https://patents.google.com/?q=TAC%3D%22precise+medical+imaging%22"
},
    {
        "description": "TC20: Multiple patent offices and languages",
        "input": {
            "patent_offices": ["US", "EP", "WO"],
            "languages": ["EN", "DE"]
        },
        "expected_display_query": "country:US,EP,WO language:EN,DE",
        "expected_url": "https://patents.google.com/?country=US%2CEP%2CWO&language=EN%2CDE"
    },
    {
        "description": "TC21: Only 'after_date' (filing)",
        "input": {
            "after_date": "20230101", "after_date_type": "filing"
        },
        "expected_display_query": "after:filing:20230101",
        "expected_url": "https://patents.google.com/?after=filing%3A20230101"
    },
    {
        "description": "TC22: Only 'before_date' (publication) with YYYY-MM-DD",
        "input": {
            "before_date": "2020-06-15", "before_date_type": "publication"
        },
        "expected_display_query": "before:publication:20200615",
        "expected_url": "https://patents.google.com/?before=publication%3A20200615"
    },
    {
        "description": "TC23: CLASSIFICATION with slash and TEXT/FT/ALL",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "CLASSIFICATION", "data": {"cpc": "G06F/3048", "option": "EXACT"}},
                {"id": "cond2", "type": "TEXT", "data": {"text": "touchscreen", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "cpc:G06F3048 (touchscreen)",
        "expected_url": "https://patents.google.com/?q=cpc%3AG06F3048&q=touchscreen"
    },
    {
        "description": "TC24: TEXT with empty string",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "  ", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC25: TEXT with only operator word 'OR' for ANY (should be filtered)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "OR", "selectedScopes": ["FT"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "", 
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC26: TEXT with 'AND' for ALL (should be filtered if logic implies)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "machine AND learning", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(machine learning)", 
        "expected_url": "https://patents.google.com/?q=machine+learning"
    },
    {
        "description": "TC27: Dedicated fields only (CPC, Title, Doc ID)",
        "input": {
            "dedicated_cpc": "H04W4/02",
            "dedicated_title": "Location Based Services",
            "dedicated_document_id": "EP1234567A1"
        },
        "expected_display_query": "cpc:H04W402 title:(\"Location Based Services\") \"EP1234567A1\"",
        "expected_url": "https://patents.google.com/?q=cpc%3AH04W402&q=title%3A%28%22Location+Based+Services%22%29&q=%22EP1234567A1%22"
    },
    {
        "description": "TC28: TEXT/CPC/ANY with multiple CPC codes",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "A61B5/00 C12Q1/68", "selectedScopes": ["CPC"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "(CPC=(A61B5/00) OR CPC=(C12Q1/68))", 
        "expected_url": "https://patents.google.com/?q=%28CPC%3D%28A61B5%2F00%29+OR+CPC%3D%28C12Q1%2F68%29%29"
    },
    {
        "description": "TC29: TEXT/CPC/ALL with single CPC code containing slash",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "H01L21/304", "selectedScopes": ["CPC"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "CPC=(H01L21/304)",
        "expected_url": "https://patents.google.com/?q=CPC%3D%28H01L21%2F304%29"
    },
    {
        "description": "TC30: All optional fields populated (except structured/dedicated for this test)",
        "input": {
            "inventors": ["Inventor One", "Inventor Two"],
            "assignees": ["Assignee Corp"],
            "after_date": "20100101", "after_date_type": "priority",
            "before_date": "20151231", "before_date_type": "publication",
            "patent_offices": ["JP"],
            "languages": ["JA"],
            "status": "PENDING",
            "patent_type": "REISSUE",
            "litigation": "YES"
        },
        "expected_display_query": "country:JP language:JA inventor:Inventor One inventor:Inventor Two assignee:Assignee Corp after:priority:20100101 before:publication:20151231 status:PENDING type:REISSUE litigation:YES",
        "expected_url": "https://patents.google.com/?country=JP&language=JA&inventor=Inventor+One&inventor=Inventor+Two&assignee=Assignee+Corp&after=priority%3A20100101&before=publication%3A20151231&status=PENDING&ptype=REISSUE&litigation=YES"
    },
    {
        "description": "TC31: TEXT/FT/ANY with single multi-word term (should not be OR'd)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "deep learning", "selectedScopes": ["FT"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "(deep OR learning)", 
        "expected_url": "https://patents.google.com/?q=%28deep+OR+learning%29" 
    },
{
    "description": "TC32: TEXT/TI/EXACT and TEXT/AB/EXACT as separate conditions",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "smart grid", "selectedScopes": ["TI"], "termOperator": "EXACT"}},
            {"id": "cond2", "type": "TEXT", "data": {"text": "energy distribution", "selectedScopes": ["AB"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "TI=\"smart grid\" AB=\"energy distribution\"",
    "expected_url": "https://patents.google.com/?q=TI%3D%22smart+grid%22&q=AB%3D%22energy+distribution%22"
},
    {
        "description": "TC33: Empty inventors list, non-empty assignees",
        "input": {
            "inventors": [],
            "assignees": ["MegaCorp"]
        },
        "expected_display_query": "assignee:MegaCorp",
        "expected_url": "https://patents.google.com/?assignee=MegaCorp"
    },
    {
        "description": "TC34: Null patent_office, non-empty language",
        "input": {
            "patent_offices": null, 
            "languages": ["KO"]
        },
        "expected_display_query": "language:KO",
        "expected_url": "https://patents.google.com/?language=KO"
    },
    {
        "description": "TC35: TEXT/FT/ALL with special characters (e.g., hyphen, apostrophe)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "state-of-the-art device's", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(state-of-the-art device's)", 
        "expected_url": "https://patents.google.com/?q=state-of-the-art+device%27s"
    },
    {
        "description": "TC36: Litigation 'NO' (alternative input for NO_KNOWN_LITIGATION)",
        "input": {
            "litigation": "NO"
        },
        "expected_display_query": "litigation:NO",
        "expected_url": "https://patents.google.com/?litigation=NO"
    },
{
    "description": "TC37: TEXT with mixed case scopes [\"ti\", \"ab\"] and EXACT",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "Mixed Case Test", "selectedScopes": ["ti", "ab"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "(TI=\"Mixed Case Test\" OR AB=\"Mixed Case Test\")",
    "expected_url": "https://patents.google.com/?q=%28TI%3D%22Mixed+Case+Test%22+OR+AB%3D%22Mixed+Case+Test%22%29"
},
    {
        "description": "TC38: TEXT/FT/ALL with leading/trailing spaces in text",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "  extra spaces  ", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(extra spaces)",
        "expected_url": "https://patents.google.com/?q=extra+spaces"
    },
    {
        "description": "TC39: CLASSIFICATION only, no other params",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "CLASSIFICATION", "data": {"cpc": "Y02E10/50", "option": "EXACT"}}
            ]
        },
        "expected_display_query": "cpc:Y02E1050",
        "expected_url": "https://patents.google.com/?q=cpc%3AY02E1050"
    },
{
    "description": "TC40: Multiple TEXT conditions with different operators and scopes",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "alpha beta", "selectedScopes": ["FT"], "termOperator": "ANY"}},
            {"id": "cond2", "type": "TEXT", "data": {"text": "gamma", "selectedScopes": ["TI"], "termOperator": "ALL"}},
            {"id": "cond3", "type": "TEXT", "data": {"text": "delta epsilon", "selectedScopes": ["AB"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "(alpha OR beta) TI=(gamma) AB=\"delta epsilon\"",
    "expected_url": "https://patents.google.com/?q=%28alpha+OR+beta%29&q=TI%3D%28gamma%29&q=AB%3D%22delta+epsilon%22"
},
    {
        "description": "TC41: TEXT/FT/NONE with multi-word terms",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "not this phrase", "selectedScopes": ["FT"], "termOperator": "NONE"}}
            ]
        },
        "expected_display_query": "(-not -this -phrase)", 
        "expected_url": "https://patents.google.com/?q=-not+-this+-phrase"
    },
    {
        "description": "TC42: TEXT/CPC/ALL with multiple space-separated CPCs (should treat as single string for ALL)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "G01N33/53 H01S3/00", "selectedScopes": ["CPC"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "CPC=(G01N33/53 H01S3/00)",
        "expected_url": "https://patents.google.com/?q=CPC%3D%28G01N33%2F53+H01S3%2F00%29"
    },
    {
        "description": "TC43: Only dedicated_document_id",
        "input": {
            "dedicated_document_id": "WO2023000000A1"
        },
        "expected_display_query": "\"WO2023000000A1\"",
        "expected_url": "https://patents.google.com/?q=%22WO2023000000A1%22"
    },
{
    "description": "TC44: TEXT/FT/ALL with terms that are also operators 'NOT AND OR'",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "NOT AND OR", "selectedScopes": ["FT"], "termOperator": "ALL"}}
        ]
    },
    "expected_display_query": "\"NOT AND OR\"",
    "expected_url": "https://patents.google.com/?q=%22NOT+AND+OR%22"
},
    {
        "description": "TC45: TEXT/TI,AB,CL,CPC/ANY - multiple scopes, some non-TAC",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "term1 term2", "selectedScopes": ["TI", "AB", "CL", "CPC"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "((TI=(term1 OR term2) OR AB=(term1 OR term2) OR CL=(term1 OR term2)) OR (CPC=(term1) OR CPC=(term2)))", 
        "expected_url": "https://patents.google.com/?q=%28%28TI%3D%28term1+OR+term2%29+OR+AB%3D%28term1+OR+term2%29+OR+CL%3D%28term1+OR+term2%29%29+OR+%28CPC%3D%28term1%29+OR+CPC%3D%28term2%29%29%29"
    },
    {
        "description": "TC46: Status and Patent Type only",
        "input": {
            "status": "GRANT",
            "patent_type": "PLANT"
        },
        "expected_display_query": "status:GRANT type:PLANT",
        "expected_url": "https://patents.google.com/?status=GRANT&ptype=PLANT"
    },
{
    "description": "TC47: TEXT/FT/EXACT with internal quotes in text (e.g. user typed quotes)",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "search for \"this exact phrase\"", "selectedScopes": ["FT"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "\"search for \"this exact phrase\"\"",
    "expected_url": "https://patents.google.com/?q=%22search+for+%22this+exact+phrase%22%22"
},
    {
        "description": "TC48: Very long inventor and assignee names",
        "input": {
            "inventors": ["Dr. Professor FirstName MiddleInitial von Lastname-Hyphenated Jr. The Third"],
            "assignees": ["International Consolidated Mega-Corporation And Associated Global Enterprises LLC"]
        },
        "expected_display_query": "inventor:Dr. Professor FirstName MiddleInitial von Lastname-Hyphenated Jr. The Third assignee:International Consolidated Mega-Corporation And Associated Global Enterprises LLC",
        "expected_url": "https://patents.google.com/?inventor=Dr.+Professor+FirstName+MiddleInitial+von+Lastname-Hyphenated+Jr.+The+Third&assignee=International+Consolidated+Mega-Corporation+And+Associated+Global+Enterprises+LLC"
    },
    {
        "description": "TC49: TEXT/FT/ALL and CLASSIFICATION and Dedicated Title",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "keyword search", "selectedScopes": ["FT"], "termOperator": "ALL"}},
                {"id": "cond2", "type": "CLASSIFICATION", "data": {"cpc": "A01B1/00"}}
            ],
            "dedicated_title": "Specific Invention Title"
        },
        "expected_display_query": "(keyword search) cpc:A01B100 title:(\"Specific Invention Title\")",
        "expected_url": "https://patents.google.com/?q=keyword+search&q=cpc%3AA01B100&q=title%3A%28%22Specific+Invention+Title%22%29"
    },
    {
        "description": "TC50: TEXT/AB/NONE",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "exclude these words", "selectedScopes": ["AB"], "termOperator": "NONE"}}
            ]
        },
        "expected_display_query": "AB=(-exclude -these -words)",
        "expected_url": "https://patents.google.com/?q=AB%3D%28-exclude+-these+-words%29"
    },
    {
        "description": "TC51: TEXT/TI/ANY with single word",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "single", "selectedScopes": ["TI"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "TI=(single)",
        "expected_url": "https://patents.google.com/?q=TI%3D%28single%29"
    },
    {
        "description": "TC52: TEXT/AB,CL/ALL (multiple non-FT scopes, not TAC)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "shared concept", "selectedScopes": ["AB", "CL"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(AB=(shared concept) OR CL=(shared concept))",
        "expected_url": "https://patents.google.com/?q=%28AB%3D%28shared+concept%29+OR+CL%3D%28shared+concept%29%29"
    },
    {
        "description": "TC53: Only one inventor, one assignee, one patent office, one language",
        "input": {
            "inventors": ["Lone Inventor"],
            "assignees": ["Solo Corp"],
            "patent_offices": ["CA"],
            "languages": ["FR"]
        },
        "expected_display_query": "country:CA language:FR inventor:Lone Inventor assignee:Solo Corp",
        "expected_url": "https://patents.google.com/?country=CA&language=FR&inventor=Lone+Inventor&assignee=Solo+Corp"
    },
    {
        "description": "TC54: TEXT/FT/ALL with numbers and words",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "model 3000 version 2.5", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(model 3000 version 2.5)",
        "expected_url": "https://patents.google.com/?q=model+3000+version+2.5"
    },
{
    "description": "TC55: TEXT/FT/EXACT with numbers and words",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "model 3000 version 2.5", "selectedScopes": ["FT"], "termOperator": "EXACT"}}
        ]
    },
    "expected_display_query": "\"model 3000 version 2.5\"",
    "expected_url": "https://patents.google.com/?q=%22model+3000+version+2.5%22"
},
    {
        "description": "TC56: Invalid litigation value - Expect ValueError",
        "input": {
            "litigation": "MAYBE"
        },
        "expected_error": "ValueError"
    },
    {
        "description": "TC57: Structured condition with no text data",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": null, "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC58: Structured condition with empty selectedScopes (should default to FT)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "default scope test", "selectedScopes": [], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(default scope test)",
        "expected_url": "https://patents.google.com/?q=default+scope+test"
    },
    {
        "description": "TC59: Structured condition with null selectedScopes (should default to FT)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "null scope test", "selectedScopes": null, "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(null scope test)",
        "expected_url": "https://patents.google.com/?q=null+scope+test"
    },
    {
        "description": "TC60: TEXT/CPC/ANY with single CPC code (should not add OR)",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "Y02B30/00", "selectedScopes": ["CPC"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "CPC=(Y02B30/00)",
        "expected_url": "https://patents.google.com/?q=CPC%3D%28Y02B30%2F00%29"
    },
    {
        "description": "TC61: Multiple CLASSIFICATION conditions",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "CLASSIFICATION", "data": {"cpc": "H01L21/00"}},
                {"id": "cond2", "type": "CLASSIFICATION", "data": {"cpc": "G02B6/00"}}
            ]
        },
        "expected_display_query": "cpc:H01L2100 cpc:G02B600",
        "expected_url": "https://patents.google.com/?q=cpc%3AH01L2100&q=cpc%3AG02B600"
    },
    {
        "description": "TC62: TEXT/FT/ALL with one word, TEXT/TI/ALL with another",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "general", "selectedScopes": ["FT"], "termOperator": "ALL"}},
                {"id": "cond2", "type": "TEXT", "data": {"text": "specific", "selectedScopes": ["TI"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(general) TI=(specific)",
        "expected_url": "https://patents.google.com/?q=general&q=TI%3D%28specific%29"
    },
    {
        "description": "TC63: All date fields with different types",
        "input": {
            "after_date": "20000101", "after_date_type": "priority",
            "before_date": "20221231", "before_date_type": "filing"
            
            
        },
        "expected_display_query": "after:priority:20000101 before:filing:20221231",
        "expected_url": "https://patents.google.com/?after=priority%3A20000101&before=filing%3A20221231"
    },
    {
        "description": "TC64: TEXT/FT/ANY with many terms",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "termA termB termC termD termE", "selectedScopes": ["FT"], "termOperator": "ANY"}}
            ]
        },
        "expected_display_query": "(termA OR termB OR termC OR termD OR termE)",
        "expected_url": "https://patents.google.com/?q=%28termA+OR+termB+OR+termC+OR+termD+OR+termE%29"
    },
    {
        "description": "TC65: TEXT/FT/ALL with Japanese characters",
        "input": {
            "structured_search_conditions": [
                {"id": "cond1", "type": "TEXT", "data": {"text": "人工知能 特許", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(人工知能 特許)",
        "expected_url": "https://patents.google.com/?q=%E4%BA%BA%E5%B7%A5%E7%9F%A5%E8%83%BD+%E7%89%B9%E8%A8%B1" 
    },
{
    "description": "TC66: Combination of structured text, classification, dedicated CPC, and inventor",
    "input": {
        "structured_search_conditions": [
            {"id": "cond1", "type": "TEXT", "data": {"text": "complex system", "selectedScopes": ["AB"], "termOperator": "EXACT"}},
            {"id": "cond2", "type": "CLASSIFICATION", "data": {"cpc": "F16H2001/00"}}
        ],
        "dedicated_cpc": "B60W30/00",
        "inventors": ["Complex Inventor Name"]
    },
    "expected_display_query": "AB=\"complex system\" cpc:F16H200100 cpc:B60W3000 inventor:Complex Inventor Name",
    "expected_url": "https://patents.google.com/?q=AB%3D%22complex+system%22&q=cpc%3AF16H200100&q=cpc%3AB60W3000&inventor=Complex+Inventor+Name"
}
,
    {
        "description": "TC67: CHEM - Exact single word trade name, Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem1", "type": "CHEMISTRY", "data": {"term": "Lipitor", "operator": "EXACT", "docScope": "FULL"}}
            ]
        },
      
"expected_display_query": "(Lipitor)",

            "expected_url": "https://patents.google.com/?q=Lipitor"
    },
    {
        "description": "TC68: CHEM - Exact multi-word trade name, Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem2", "type": "CHEMISTRY", "data": {"term": "Carbon Nanotube", "operator": "EXACT", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "\"Carbon Nanotube\"",
        "expected_url": "https://patents.google.com/?q=%22Carbon+Nanotube%22"
    },
    {
        "description": "TC69: CHEM - Exact single word trade name, Claims only",
        "input": {
            "structured_search_conditions": [
                {"id": "chem3", "type": "CHEMISTRY", "data": {"term": "Gleevec", "operator": "EXACT", "docScope": "CLAIMS_ONLY"}}
            ]
        },
        "expected_display_query": "CL=(Gleevec)",
        "expected_url": "https://patents.google.com/?q=CL%3D%28Gleevec%29"
    },
    {
        "description": "TC70: CHEM - Exact multi-word trade name, Claims only",
        "input": {
            "structured_search_conditions": [
                {"id": "chem4", "type": "CHEMISTRY", "data": {"term": "Quantum Dot", "operator": "EXACT", "docScope": "CLAIMS_ONLY"}}
            ]
        },
        "expected_display_query": "CL=\"Quantum Dot\"",
        "expected_url": "https://patents.google.com/?q=CL%3D%22Quantum+Dot%22"
    },
    {
        "description": "TC71: CHEM - Similar, Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem5", "type": "CHEMISTRY", "data": {"term": "Sildenafil", "operator": "SIMILAR", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "~(Sildenafil)",
        "expected_url": "https://patents.google.com/?q=~%28Sildenafil%29"
    },
    {
        "description": "TC72: CHEM - Similar, Claims only",
        "input": {
            "structured_search_conditions": [
                {"id": "chem6", "type": "CHEMISTRY", "data": {"term": "Atorvastatin", "operator": "SIMILAR", "docScope": "CLAIMS_ONLY"}}
            ]
        },
        "expected_display_query": "CL=(~(Atorvastatin))", 
        "expected_url": "https://patents.google.com/?q=CL%3D%28~%28Atorvastatin%29%29"
    },
    {
        "description": "TC73: CHEM - Substructure (SSS), Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem7", "type": "CHEMISTRY", "data": {"term": "c1ccccc1O", "operator": "SUBSTRUCTURE", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SSS=(c1ccccc1O)",
        "expected_url": "https://patents.google.com/?q=SSS%3D%28c1ccccc1O%29"
    },
    {
        "description": "TC74: CHEM - Substructure (SSS), Claims only (docScope likely ignored by script for SSS)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem8", "type": "CHEMISTRY", "data": {"term": "C1=CC=C(C=C1)C(=O)O", "operator": "SUBSTRUCTURE", "docScope": "CLAIMS_ONLY"}}
            ]
        },
        "expected_display_query": "SSS=(C1=CC=C(C=C1)C(=O)O)",
        "expected_url": "https://patents.google.com/?q=SSS%3D%28C1%3DCC%3DC%28C%3DC1%29C%28%3DO%29O%29"
    },
    {
        "description": "TC75: CHEM - SMARTS, Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem9", "type": "CHEMISTRY", "data": {"term": "[#6]-[#8H1]", "operator": "SMARTS", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SMARTS=([#6]-[#8H1])",
        "expected_url": "https://patents.google.com/?q=SMARTS%3D%28%5B%236%5D-%5B%238H1%5D%29"
    },
    {
        "description": "TC76: CHEM - SMARTS, Claims only (docScope likely ignored by script for SMARTS)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem10", "type": "CHEMISTRY", "data": {"term": "c:1:c:c:c:c:c:1", "operator": "SMARTS", "docScope": "CLAIMS_ONLY"}}
            ]
        },
        "expected_display_query": "SMARTS=(c:1:c:c:c:c:c:1)",
        "expected_url": "https://patents.google.com/?q=SMARTS%3D%28c%3A1%3Ac%3Ac%3Ac%3Ac%3Ac%3A1%29"
    },
    {
        "description": "TC77: CHEM - Empty term",
        "input": {
            "structured_search_conditions": [
                {"id": "chem11", "type": "CHEMISTRY", "data": {"term": " ", "operator": "EXACT", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC78: CHEM - Null term",
        "input": {
            "structured_search_conditions": [
                {"id": "chem12", "type": "CHEMISTRY", "data": {"term": null, "operator": "SMARTS", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC79: CHEM - Default operator (EXACT), Default docScope (FULL)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem13", "type": "CHEMISTRY", "data": {"term": "Caffeine"}}
            ]
        },
      
"expected_display_query": "(Caffeine)",

            "expected_url": "https://patents.google.com/?q=Caffeine"
    },
    {
        "description": "TC80: CHEM - InChI Key, Exact, Full docs",
        "input": {
            "structured_search_conditions": [
                {"id": "chem14", "type": "CHEMISTRY", "data": {"term": "BSYNRYMUTXBXSQ-UHFFFAOYSA-N", "operator": "EXACT", "docScope": "FULL"}}
            ]
        },
      
"expected_display_query": "(BSYNRYMUTXBXSQ-UHFFFAOYSA-N)",

            "expected_url": "https://patents.google.com/?q=BSYNRYMUTXBXSQ-UHFFFAOYSA-N"
    },
    {
        "description": "TC81: CHEM - SMILES with special characters, SMARTS operator",
        "input": {
            "structured_search_conditions": [
                {"id": "chem15", "type": "CHEMISTRY", "data": {"term": "CC(=O)Oc1ccccc1C(=O)OH", "operator": "SMARTS", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SMARTS=(CC(=O)Oc1ccccc1C(=O)OH)",
        "expected_url": "https://patents.google.com/?q=SMARTS%3D%28CC%28%3DO%29Oc1ccccc1C%28%3DO%29OH%29"
    },
    {
        "description": "TC82: Two CHEM conditions - Exact and Similar",
        "input": {
            "structured_search_conditions": [
                {"id": "chem16a", "type": "CHEMISTRY", "data": {"term": "Viagra", "operator": "EXACT", "docScope": "FULL"}},
                {"id": "chem16b", "type": "CHEMISTRY", "data": {"term": "Tadalafil", "operator": "SIMILAR", "docScope": "FULL"}}
            ]
        },
      
"expected_display_query": "(Viagra) ~(Tadalafil)",

            "expected_url": "https://patents.google.com/?q=Viagra&q=~%28Tadalafil%29"
    },
    {
        "description": "TC83: Two CHEM conditions - SSS and SMARTS",
        "input": {
            "structured_search_conditions": [
                {"id": "chem17a", "type": "CHEMISTRY", "data": {"term": "c1cncnc1", "operator": "SUBSTRUCTURE", "docScope": "FULL"}},
                {"id": "chem17b", "type": "CHEMISTRY", "data": {"term": "[#7]-c:1:c:c:c:c:c:1", "operator": "SMARTS", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SSS=(c1cncnc1) SMARTS=([#7]-c:1:c:c:c:c:c:1)",
        "expected_url": "https://patents.google.com/?q=SSS%3D%28c1cncnc1%29&q=SMARTS%3D%28%5B%237%5D-c%3A1%3Ac%3Ac%3Ac%3Ac%3Ac%3A1%29"
    },
    {
        "description": "TC84: CHEM (Exact, Claims) and TEXT (FT, ALL)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem18", "type": "CHEMISTRY", "data": {"term": "Polyethylene", "operator": "EXACT", "docScope": "CLAIMS_ONLY"}},
                {"id": "text1", "type": "TEXT", "data": {"text": "manufacturing process", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "CL=(Polyethylene) (manufacturing process)",
        "expected_url": "https://patents.google.com/?q=CL%3D%28Polyethylene%29&q=manufacturing+process"
    },
    {
        "description": "TC85: CHEM - Operator 'EXACT_BATCH' (treated as EXACT by current script)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem19", "type": "CHEMISTRY", "data": {"term": "BatchTerm", "operator": "EXACT_BATCH", "docScope": "FULL"}}
            ]
        },
      
"expected_display_query": "(BatchTerm)",

            "expected_url": "https://patents.google.com/?q=BatchTerm"
    },
    {
        "description": "TC86: CHEM - Term with parentheses, Exact operator",
        "input": {
            "structured_search_conditions": [
                {"id": "chem20", "type": "CHEMISTRY", "data": {"term": "compound (X)", "operator": "EXACT", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "\"compound (X)\"",
        "expected_url": "https://patents.google.com/?q=%22compound+%28X%29%22"
    },
    {
        "description": "TC87: CHEM - Term with parentheses, Similar operator",
        "input": {
            "structured_search_conditions": [
                {"id": "chem21", "type": "CHEMISTRY", "data": {"term": "derivative (Y)", "operator": "SIMILAR", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "~(derivative (Y))",
        "expected_url": "https://patents.google.com/?q=~%28derivative+%28Y%29%29"
    },
    {
        "description": "TC88: CHEM - Term with parentheses, SSS operator",
        "input": {
            "structured_search_conditions": [
                {"id": "chem22", "type": "CHEMISTRY", "data": {"term": "core(ABC)", "operator": "SUBSTRUCTURE", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SSS=(core(ABC))",
        "expected_url": "https://patents.google.com/?q=SSS%3D%28core%28ABC%29%29"
    },
    {
        "description": "TC89: CHEM - Term with parentheses, SMARTS operator",
        "input": {
            "structured_search_conditions": [
                {"id": "chem23", "type": "CHEMISTRY", "data": {"term": "[#6]([#7])", "operator": "SMARTS", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "SMARTS=([#6]([#7]))",
        "expected_url": "https://patents.google.com/?q=SMARTS%3D%28%5B%236%5D%28%5B%237%5D%29%29"
    },
    {
        "description": "TC90: CHEM - Invalid operator (should default to EXACT or error)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem24", "type": "CHEMISTRY", "data": {"term": "TestChem", "operator": "INVALID_OP", "docScope": "FULL"}}
            ]
        },
        "expected_display_query": "(TestChem)", 
        "expected_url": "https://patents.google.com/?q=TestChem"
    },
    {
        "description": "TC91: CHEM - Invalid docScope (should default to FULL or error)",
        "input": {
            "structured_search_conditions": [
                {"id": "chem25", "type": "CHEMISTRY", "data": {"term": "TestChemScope", "operator": "EXACT", "docScope": "INVALID_SCOPE"}}
            ]
        },
      
"expected_display_query": "(TestChemScope)",

            "expected_url": "https://patents.google.com/?q=TestChemScope"
    }
,
    {
        "description": "TC104: NUMBERS - Basic US publication number",
        "input": {
            "structured_search_conditions": [
                {"id": "num1", "type": "NUMBERS", "data": {"doc_id": "US20220123456A1"}}
            ]
        },
        "expected_display_query": "(patent/US20220123456A1)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FUS20220123456A1%29"
    },
    {
        "description": "TC105: NUMBERS - Basic EP grant number",
        "input": {
            "structured_search_conditions": [
                {"id": "num2", "type": "NUMBERS", "data": {"doc_id": "EP1987654B1"}}
            ]
        },
        "expected_display_query": "(patent/EP1987654B1)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FEP1987654B1%29"
    },
    {
        "description": "TC106: NUMBERS - WO publication number",
        "input": {
            "structured_search_conditions": [
                {"id": "num3", "type": "NUMBERS", "data": {"doc_id": "WO2023000111A1"}}
            ]
        },
        "expected_display_query": "(patent/WO2023000111A1)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FWO2023000111A1%29"
    },
    {
        "description": "TC107: NUMBERS - doc_id already contains 'patent/' prefix",
        "input": {
            "structured_search_conditions": [
                {"id": "num4", "type": "NUMBERS", "data": {"doc_id": "patent/JP2000123456A"}}
            ]
        },
        "expected_display_query": "(patent/JP2000123456A)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FJP2000123456A%29"
    },
    {
        "description": "TC108: NUMBERS - Empty doc_id",
        "input": {
            "structured_search_conditions": [
                {"id": "num5", "type": "NUMBERS", "data": {"doc_id": " "}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC109: NUMBERS - Null doc_id",
        "input": {
            "structured_search_conditions": [
                {"id": "num6", "type": "NUMBERS", "data": {"doc_id": null}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC110: Two NUMBERS conditions",
        "input": {
            "structured_search_conditions": [
                {"id": "num7a", "type": "NUMBERS", "data": {"doc_id": "US9999999B2"}},
                {"id": "num7b", "type": "NUMBERS", "data": {"doc_id": "US10000000B2"}}
            ]
        },
        "expected_display_query": "(patent/US9999999B2) (patent/US10000000B2)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FUS9999999B2%29&q=%28patent%2FUS10000000B2%29"
    },
    {
        "description": "TC111: NUMBERS and TEXT (FT, ALL)",
        "input": {
            "structured_search_conditions": [
                {"id": "num8", "type": "NUMBERS", "data": {"doc_id": "DE102019000123A1"}},
                {"id": "text1", "type": "TEXT", "data": {"text": "engine component", "selectedScopes": ["FT"], "termOperator": "ALL"}}
            ]
        },
        "expected_display_query": "(patent/DE102019000123A1) (engine component)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FDE102019000123A1%29&q=engine+component"
    },
    {
        "description": "TC112: NUMBERS - doc_id with slashes not at the start",
        "input": {
            "structured_search_conditions": [
                {"id": "num9", "type": "NUMBERS", "data": {"doc_id": "US16/123,456"}} 
            ]
        },
        "expected_display_query": "(patent/US16/123,456)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FUS16%2F123%2C456%29"
    },
    {
        "description": "TC113: NUMBERS - Very short doc_id",
        "input": {
            "structured_search_conditions": [
                {"id": "num10", "type": "NUMBERS", "data": {"doc_id": "US1A"}}
            ]
        },
        "expected_display_query": "(patent/US1A)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FUS1A%29"
    },
    {
        "description": "TC114: NUMBERS - Data field missing (should produce empty)",
        "input": {
            "structured_search_conditions": [
                {"id": "num11", "type": "NUMBERS", "data": {}}
            ]
        },
        "expected_display_query": "",
        "expected_url": "https://patents.google.com/"
    },
    {
        "description": "TC115: NUMBERS (tool) vs dedicated_document_id",
        "input": {
            "structured_search_conditions": [
                {"id": "num12", "type": "NUMBERS", "data": {"doc_id": "US11111111B2"}}
            ],
            "dedicated_document_id": "US22222222B2"
        },
        "expected_display_query": "(patent/US11111111B2) \"US22222222B2\"",
        "expected_url": "https://patents.google.com/?q=%28patent%2FUS11111111B2%29&q=%22US22222222B2%22"
    },
    {
        "description": "TC116: NUMBERS - id_type field present but unused by current script",
        "input": {
            "structured_search_conditions": [
                {"id": "num13", "type": "NUMBERS", "data": {"doc_id": "CN100000000A", "id_type": "APPLICATION"}}
            ]
        },
        "expected_display_query": "(patent/CN100000000A)",
        "expected_url": "https://patents.google.com/?q=%28patent%2FCN100000000A%29"
    }
]